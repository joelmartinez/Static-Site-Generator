<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html;charset=utf8" />
	<title>XNA/XACT Pre-Mortem</title>
  <meta name="author" content="Joel Martinez" />
  <meta name="nlweb:ai-access" content="allow" />
  <link rel="alternate" type="application/rss+xml" title="XNA/XACT Pre-Mortem" href="//codecube.net/feed/" />
  <link rel="nlweb-manifest" href="/nlweb.json" />
	<link rel="stylesheet" type="text/css" href="/design/style.css?v=2" />
      <meta name="title" content="XNA/XACT Pre-Mortem" />
      <meta name="description" content="Hehe ... poking around on the internet, I actually came across an old post of mine on the old XNA forums from when they were on the MSDN forums. ..." />
      <meta name="twitter:card" content="summary" />
      <meta name="twitter:site" content="@joelmartinez" />
      <meta name="twitter:creator" content="@joelmartinez" />
      <meta name="twitter:title" content="XNA/XACT Pre-Mortem" />
      <meta name="twitter:description" content="Hehe ... poking around on the internet, I actually came across an old post of mine on the old XNA forums from when they were on the MSDN forums. ..." />
      <meta property="og:type" content="article" />
      <meta property="og:title" content="XNA/XACT Pre-Mortem" />
      <meta property="og:description" content="Hehe ... poking around on the internet, I actually came across an old post of mine on the old XNA forums from when they were on the MSDN forums. ..." />
  
  <script src="/script/tone.js"></script>
</head>
<body>
  <div id="header">
    <div>
	  <a href="/" rel="home"><img height="50" width="50" src="//www.gravatar.com/avatar/a61a4be80ce39683142620a76299820b.png" title="ItsAMeee" /></a>
      <a href="/about/" rel="author">Joel Martinez</a>
      <a href="/resume/">Resume</a>

      <img id="flair" src="/design/images/flair.png" />
    </div>
  </div>

  <div id="contentwrapper">
	  <div id="content">
		<article class="hentry" itemscope itemtype="https://schema.org/Article">
  <h1 class="entry-title" itemprop="headline">XNA/XACT Pre-Mortem</h1>
  <p id="author">By <a href="http://codecube.net" title="More posts by Joel Martinez" rel="author" itemprop="author" itemscope itemtype="https://schema.org/Person"><span itemprop="name">Joel Martinez</span></a> on <time class="published" itemprop="datePublished" datetime="2008-01-24">01/24/2008</time>
</p>
  <div class="entry-content" itemprop="articleBody">
    <p>Hehe ... poking around on the internet, I actually came across an old post of mine on the old XNA forums from when they were on the MSDN forums.</p> <p>I believe I had posted this on my blog previously as well, however, since I changed blog engines this post has been lost to the ages, so I figured I'd reprint it since it's still good info.</p> <blockquote> <p>After reading this very useful <a href="http://forums.microsoft.com/MSDN/ShowPost.aspx?PostID=1059623&amp;SiteID=1">post-mortem</a> and working with <b>XNA</b> and XACT for a bit, I decided to do a bit of a pre-mortem to share what I've learned so far. <ul> <li>You should only have <a href="http://forums.microsoft.com/MSDN/ShowPost.aspx?PostID=1150632&amp;SiteID=1">one instance of AudioEngine</a>. You can have as many sound and <b>wave</b> banks loaded into the same engine as the hardware will support, but the only restriction is that they all share the same global settings data. This leads me to deduce that the best practice is to have one XACT project for your entire title. <li><a href="http://forums.microsoft.com/MSDN/ShowPost.aspx?PostID=1183082&amp;SiteID=1&amp;mode=1">XACT is already multithreaded</a>. Apparently, the heavy lifting of playing audio on Xbox happens on hardware thread 4 (the second thread of core #2). Calling AudioEngine.Update on a different thread is not likely to bring any performance gains unless you "have millions of crazy curves and variables and things". <li>Despite my initial confusion, <b>XNA</b> does in fact support <a href="http://forums.microsoft.com/MSDN/ShowPost.aspx?PostID=1134068&amp;SiteID=1"><b>streaming</b> <b>wave</b> banks</a>. All you have to do is designate the <b>wave</b> <b>bank's</b> <em>Type</em> property as <strong><b>Streaming</b></strong>, then call the WaveBank class constructor that takes the offset and packetsize arguments.<br>The main issue I have with this is that it is not documented very well. They try to provide guidance on what to set the packetsize argument to, but the guidance is for <b>streaming</b> from a DVD (something <b>XNA</b> doesn't support quite yet). The documentation should also provide guidance for a title running from the HDD.<br>Also, it's important to note that you must call Update at least once and check the Isprepared property to make sure it's true before attempting to play any sound that uses one of those waves. Thankfully, this is documented in the <b>streaming</b> constructor topic, but I think there should be a "how to" article on how to stream audio. <li>According to <a href="http://msdn2.microsoft.com/en-us/library/bb172319.aspx">the docs</a>, XACT supports in-game auditioning using a special development-only API. I have not seen that these APIs are available in <b>XNA</b> ... this would be a pretty cool feature :-)<br>The toolchain in <em>Superman Returns: The Videogame</em> had a very similar feature where the console would run a tcp/ip server that would change audio properties at run-time. The tool running on the audio designer's PC would then send messages when its knobs and switches were manipulated. I wrote the piece that ran on the PC (using C#, winforms, and .NET Remoting) ... based on the feedback I got from the audio guys, this really helped them nail the audio mix. So I would love to see similar functionality be available to <b>XNA</b> titles in development.</li></ul>All in all, I think <b>XNA</b> and XACT does a pretty good job of leading people into a <a href="http://blogs.msdn.com/brada/archive/2003/10/02/50420.aspx">Pit of Success</a>. I've still got a lot to learn, but I'm really enjoying audio programming so far. Hopefully that will be reflected in my <a href="http://dreambuildplay.com">Dream.Build.Play</a> entry.</blockquote> <p>Sadly, my dream.build.play entry never got to see the light of day.&nbsp; It was going to be an audio only game in the spirit of "<a href="http://www.studiohunty.com/itp/" target="_blank">In The Pit</a>".&nbsp; Perhaps someday it will still see the light of day ... no pun intended ;-)</p>
  </div>
</article>

<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "Article",
  "headline": "XNA/XACT Pre-Mortem",
  "description": "Hehe ... poking around on the internet, I actually came across an old post of mine on the old XNA forums from when they were on the MSDN forums. ...",
  "author": {
    "@type": "Person",
    "name": "Joel Martinez",
    "url": "https://codecube.net/about/"
  },
  "publisher": {
    "@type": "Person",
    "name": "Joel Martinez",
    "url": "https://codecube.net"
  },
  "datePublished": "2008-01-24",
  "dateModified": "2008-01-24",
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "http://codecube.net/2008/01/xnaxact-pre-mortem/"
  }
}
</script>
<p>See more in the <a href="/#archives">archives</a>
</p>

	  </div>
  </div>

  <div id="footer">
    copyright 2013 - 2025 - <a rel="me" href="https://mastodon.social/@joelmartinez">me @ Mastodon</a> and <a rel="me" href="https://www.threads.net/@joeldm1971">Threads</a>
  </div>

  <!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-WV9DDDSFMW"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-WV9DDDSFMW');
</script>
</body>
</html>
