<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html;charset=utf8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
	<title> Programmatically Opening Pull Requests</title>
  <meta name="author" content="Joel Martinez" />
  <meta name="nlweb:ai-access" content="allow" />
  <link rel="icon" type="image/svg+xml" href="/design/images/codecube-logo-web.svg" />
  <link rel="alternate" type="application/rss+xml" title=" Programmatically Opening Pull Requests" href="//codecube.net/feed/" />
  <link rel="nlweb-manifest" href="/nlweb.json" />
	<link rel="stylesheet" type="text/css" href="/design/style2.css" />
      <meta name="title" content=" Programmatically Opening Pull Requests" />
      <meta name="description" content="When integrating github repositories into any automated workflow, a very common pattern is for the process to open a pull request against some repository. This lets a human step into the mix and re..." />
      <link rel="canonical" href="https://codecube.net/2018/10/programmatically-open-pull-request/" />
      <meta name="twitter:card" content="summary" />
      <meta name="twitter:site" content="@joelmartinez" />
      <meta name="twitter:creator" content="@joelmartinez" />
      <meta name="twitter:title" content=" Programmatically Opening Pull Requests" />
      <meta name="twitter:description" content="When integrating github repositories into any automated workflow, a very common pattern is for the process to open a pull request against some repository. This lets a human step into the mix and re..." />
      <meta property="og:type" content="article" />
      <meta property="og:title" content=" Programmatically Opening Pull Requests" />
      <meta property="og:description" content="When integrating github repositories into any automated workflow, a very common pattern is for the process to open a pull request against some repository. This lets a human step into the mix and re..." />
  
  <script src="/script/tone.js"></script>
</head>
<body>
  <header>
    <div class="branding">
      <a href="/" style="text-decoration: none; display: flex; align-items: center; gap: 1rem;">
        <img
          src="/design/images/codecube-logo-web.svg"
          alt="CodeCube Ventures logo"
          height="48"
          id="site-logo"
        />
        <div class="site-title">
          <span class="title-main">CODECUBE</span>
          <span class="title-sub">VENTURES</span>
        </div>
      </a>
    </div>
    <nav>
      <ul class="nav-list">
        <li><a href="/resume/">Resume</a></li>
        <li><a href="/about/">About</a></li>
      </ul>
    </nav>
  </header>

  <main>
	  <article class="hentry" itemscope itemtype="https://schema.org/Article">
  <h1 class="entry-title" itemprop="headline"> Programmatically Opening Pull Requests</h1>
  <p id="author">By <a href="http://codecube.net" title="More posts by Joel Martinez" rel="author" itemprop="author" itemscope itemtype="https://schema.org/Person"><span itemprop="name">Joel Martinez</span></a> on <time class="published" itemprop="datePublished" datetime="2018-10-24">10/24/2018</time>
</p>
  <div class="entry-content" itemprop="articleBody">
    <p>When integrating github repositories into any automated workflow, a very common pattern is for the process to open a pull request against some repository. This lets a human step into the mix and review it, before accepting the change.</p>
<p>Over the past few years, while working on the Xamarin developer portal, I developed a small library to help me with a few common CI git related tasks called <a href="https://github.com/joelmartinez/GitmoSharp/">GitmoSharp</a>. Recently I had to need to implement exactly the kind of workflow I describe above, where I open a pull request after some program runs. So I added a small CLI companion tool to GitmoSharp which I've named, simply, <a href="https://www.nuget.org/packages/gitmo/">gitmo</a> (available on Nuget).</p>
<p>Right now, it only has one subtask, though in the future I plan on exposing some of the other functionality from the library ... but for now, you can open a pull request on a github repository.</p>
<p>You can easily test this with the following steps. First, pull down a sample repository, I have one here ... please feel free to fork it to your own account:</p>
<pre><code>git clone https://github.com/joelmartinez/testrepo
</code></pre>
<p>then make a change in the file, and commit it to another branch</p>
<pre><code>git checkout -b somebranch
# make changes to file
git commit -a -m &quot;committing changes&quot;
git push origin somebranch
</code></pre>
<p>You have to push the branch to GitHub, because the API call to open the pull request will need that to be on the server already.</p>
<p>Now, to make this tool easy to use from a CI agent, you can use Nuget to install it. For testing locally, you can easily install nuget client tools if it's not already available on your command line (it ships with Mono, for example):
<a href="https://docs.microsoft.com/en-us/nuget/install-nuget-client-tools#nugetexe-cli">https://docs.microsoft.com/en-us/nuget/install-nuget-client-tools#nugetexe-cli</a></p>
<p>Once you verify that <code>nuget</code> is available on your command line, run the following command</p>
<pre><code>nuget install gitmo -OutputDirectory packages -ExcludeVersion
</code></pre>
<p>Once you have that installed, you can</p>
<pre><code>dotnet .\packages\gitmo\tools\gitmo.dll open-pr
</code></pre>
<p>Without any additional parameters, it will tell you which parameters you need to supply</p>
<pre><code>Required Values (set with `=`):
        -repopath: Path to the repository
        -repoowner: The user or org name of the repo where you're opening the PR
        -reponame: Name of the repository (it doesn't necessarily have to match the path/folder)
        -branch: The branch that you're merging (in the local repository)
        -name: Your full name
        -email: Your email
        -username: Your username
        -pass: Your password or personal access token
        -title: The title of the pull request
        -message: The message associated with the pull request. This can be markdown
</code></pre>
<p>From here, you can just invoke the cli tool ... note the path doesn't include the version, this is due to the nuget restore's <code>-ExcludeVersion</code> parameter. If you want to have a specific version, then feel free to remove that parameter from the call above, and even provide a specific version. But in my case:</p>
<pre><code> dotnet.exe ./packages/gitmo/tools/gitmo.dll open-pr -repopath=testrepo/ -repoowner=joelmartinez -reponame=testrepo -branch=somebranch -name=&lt;your full name&gt; -email=&lt;your email address&gt; -username=&lt;your username&gt; -pass=&lt;your password or PAT&gt; -title=&quot;PR Opened with gitmo&quot; -message=&quot;This pull request was opened using gitmo cli, available on nuget!&quot;
</code></pre>
<p>Once that runs, in this case you can see the resulting pull request here:<br />
<a href="https://github.com/joelmartinez/testrepo/pull/3">https://github.com/joelmartinez/testrepo/pull/3</a></p>
<p>Please let me know if you find this tool useful, as I'd like to continue developing it and increasing it's utility.</p>

  </div>
</article>

<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "Article",
  "headline": " Programmatically Opening Pull Requests",
  "description": "When integrating github repositories into any automated workflow, a very common pattern is for the process to open a pull request against some repository. This lets a human step into the mix and re...",
  "author": {
    "@type": "Person",
    "name": "Joel Martinez",
    "url": "https://codecube.net/about/"
  },
  "publisher": {
    "@type": "Person",
    "name": "Joel Martinez",
    "url": "https://codecube.net"
  },
  "datePublished": "2018-10-24",
  "dateModified": "2018-10-24",
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://codecube.net/2018/10/programmatically-open-pull-request/"
  }
}
</script>

<p><strong>Latest post:</strong> <a href="/2025/7/team-series-size/"> When Your Team Gets Bigger - How Teams Grow</a></p>

<p>See more in the <a href="/#archives">archives</a>
</p>

  </main>

  <footer>
    copyright 2013 - 2025 - <a rel="me" href="https://mastodon.social/@joelmartinez">me @ Mastodon</a> and <a rel="me" href="https://www.threads.net/@joeldm1971">Threads</a>
  </footer>

  <!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-WV9DDDSFMW"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-WV9DDDSFMW');
</script>
</body>
</html>
